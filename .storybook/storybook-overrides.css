/* Storybook-specific CSS overrides to ensure proper text contrast */

/* Force dark text color for elements with text-gray-900 class */
/* This overrides inherited styles from body that may cause contrast issues */
.text-gray-900,
.text-gray-900 * {
  color: #111827 !important; /* Dark gray-900 color for maximum contrast */
}

/* Ensure headings with text-gray-900 also get dark color */
h1.text-gray-900,
h2.text-gray-900,
h3.text-gray-900,
h4.text-gray-900,
h5.text-gray-900,
h6.text-gray-900 {
  color: #111827 !important;
}

/* Override any Storybook-specific body styles that might interfere */
.sb-main-padded .text-gray-900,
.sb-main-centered .text-gray-900 {
  color: #111827 !important;
}

/* ============================================
 * Text Foreground Colors - Stories Content
 * ============================================
 * Override pale text colors to ensure readability in Storybook stories
 */

/* Base text-foreground - very dark for maximum readability */
.sb-story .text-foreground,
[data-testid="story"] .text-foreground,
.sb-main-padded .text-foreground,
.sb-main-centered .text-foreground,
.text-foreground:not([class*="sb-bar"]):not([class*="sidebar"]) {
  color: #0a0a0a !important; /* Very dark, almost black */
}

/* Muted foreground - dark gray but still readable */
.sb-story .text-muted-foreground,
[data-testid="story"] .text-muted-foreground,
.sb-main-padded .text-muted-foreground,
.sb-main-centered .text-muted-foreground,
.text-muted-foreground:not([class*="sb-bar"]):not([class*="sidebar"]) {
  color: #525252 !important; /* Dark gray (gray-600) for good contrast */
}

/* Text foreground opacity variants - ensure they're dark enough */
/* Use attribute selectors for Tailwind opacity classes (text-foreground/95, etc.) */
.sb-story [class*="text-foreground/95"],
[data-testid="story"] [class*="text-foreground/95"],
.sb-main-padded [class*="text-foreground/95"],
.sb-main-centered [class*="text-foreground/95"] {
  color: rgba(10, 10, 10, 0.95) !important; /* 95% opacity on dark base */
}

.sb-story [class*="text-foreground/90"],
[data-testid="story"] [class*="text-foreground/90"],
.sb-main-padded [class*="text-foreground/90"],
.sb-main-centered [class*="text-foreground/90"] {
  color: rgba(10, 10, 10, 0.9) !important; /* 90% opacity on dark base */
}

.sb-story [class*="text-foreground/85"],
[data-testid="story"] [class*="text-foreground/85"],
.sb-main-padded [class*="text-foreground/85"],
.sb-main-centered [class*="text-foreground/85"] {
  color: rgba(10, 10, 10, 0.85) !important; /* 85% opacity on dark base */
}

.sb-story [class*="text-foreground/80"],
[data-testid="story"] [class*="text-foreground/80"],
.sb-main-padded [class*="text-foreground/80"],
.sb-main-centered [class*="text-foreground/80"] {
  color: rgba(10, 10, 10, 0.8) !important; /* 80% opacity on dark base */
}

.sb-story [class*="text-foreground/75"],
[data-testid="story"] [class*="text-foreground/75"],
.sb-main-padded [class*="text-foreground/75"],
.sb-main-centered [class*="text-foreground/75"] {
  color: rgba(10, 10, 10, 0.75) !important; /* 75% opacity on dark base */
}

.sb-story [class*="text-foreground/70"],
[data-testid="story"] [class*="text-foreground/70"],
.sb-main-padded [class*="text-foreground/70"],
.sb-main-centered [class*="text-foreground/70"] {
  color: rgba(10, 10, 10, 0.7) !important; /* 70% opacity on dark base */
}

.sb-story [class*="text-foreground/60"],
[data-testid="story"] [class*="text-foreground/60"],
.sb-main-padded [class*="text-foreground/60"],
.sb-main-centered [class*="text-foreground/60"] {
  color: rgba(10, 10, 10, 0.6) !important; /* 60% opacity on dark base */
}

.sb-story [class*="text-foreground/50"],
[data-testid="story"] [class*="text-foreground/50"],
.sb-main-padded [class*="text-foreground/50"],
.sb-main-centered [class*="text-foreground/50"] {
  color: rgba(10, 10, 10, 0.5) !important; /* 50% opacity on dark base */
}

/* ============================================
 * Storybook Manager UI - Sidebar, Toolbar, Panels
 * ============================================
 * Override pale text colors in Storybook's UI elements
 */

/* Sidebar text - ensure readability */
.sidebar-container,
[role="complementary"],
.os-host,
[class*="sidebar"] {
  color: #1a1a1a !important; /* Dark text for sidebar */
}

.sidebar-container *,
[role="complementary"] *,
[class*="sidebar"] * {
  color: inherit;
}

/* Sidebar links and interactive elements */
.sidebar-container a,
[role="complementary"] a,
[class*="sidebar"] a,
[class*="sidebar"] button {
  color: #1a1a1a !important;
}

/* Toolbar text */
.sb-bar,
[class*="toolbar"],
[class*="Toolbar"] {
  color: #1a1a1a !important;
}

.sb-bar *,
[class*="toolbar"] *,
[class*="Toolbar"] * {
  color: inherit;
}

/* Panel controls text */
[class*="panel"],
[class*="Panel"],
.os-host-text {
  color: #1a1a1a !important;
}

[class*="panel"] *,
[class*="Panel"] * {
  color: inherit;
}

/* Storybook navigation and menu items */
[class*="sidebar"] [class*="item"],
[class*="sidebar"] [class*="Item"] {
  color: #1a1a1a !important;
}

/* Storybook docs/controls panels */
.docs-story,
.sbdocs,
[class*="docs"] {
  color: #0a0a0a !important;
}

.docs-story *,
.sbdocs *,
[class*="docs"] * {
  color: inherit;
}

/* Ensure headings in Storybook UI are readable */
.sidebar-container h1,
.sidebar-container h2,
.sidebar-container h3,
.sidebar-container h4,
.sidebar-container h5,
.sidebar-container h6,
.sb-bar h1,
.sb-bar h2,
.sb-bar h3,
.sb-bar h4,
.sb-bar h5,
.sb-bar h6 {
  color: #0a0a0a !important;
}

/* ============================================
 * Night Mode Reset - Allow theme tokens to drive color
 * ============================================
 * Prevent Storybook overrides from forcing dark text on dark surfaces.
 */

:root[data-mode="night"] .sbdocs,
:root[data-mode="night"] .sbdocs *,
:root[data-mode="night"] .docs-story,
:root[data-mode="night"] .docs-story *,
:root[data-mode="night"] .sb-story,
:root[data-mode="night"] .sb-story *,
:root[data-mode="night"] [data-testid="story"],
:root[data-mode="night"] [data-testid="story"] *,
:root[data-mode="night"] .sb-main-padded,
:root[data-mode="night"] .sb-main-padded *,
:root[data-mode="night"] .sb-main-centered,
:root[data-mode="night"] .sb-main-centered * {
  color: inherit !important;
}

/* ============================================
 * Storybook Motion Override (for dev preview)
 * ============================================
 * Ensure motion utilities are visible in Storybook even when
 * prefers-reduced-motion is enabled at OS level.
 */

@media (prefers-reduced-motion: reduce) {
  .sb-story *,
  [data-testid="story"] *,
  .sbdocs *,
  .docs-story *,
  .sb-main-padded *,
  .sb-main-centered * {
    animation-duration: revert !important;
    animation-iteration-count: revert !important;
    transition-duration: revert !important;
  }
}
