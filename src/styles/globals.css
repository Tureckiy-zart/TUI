/* Tailwind CSS directives - these are valid and processed by PostCSS */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 
 * NOTE: ALL CSS variables (colors, spacing, typography, shadows, radius, motion)
 * are set dynamically by updateCSSVariablesFromTokens() in src/FOUNDATION/theme/applyMode.ts
 * from token values in src/FOUNDATION/tokens/.
 * 
 * This ensures a single source of truth for all CSS variables and prevents
 * conflicts between static CSS definitions and dynamic token-driven updates.
 * 
 * All variables are initialized and updated via JavaScript to ensure they always
 * match the current token values and mode (day/night where applicable).
 * 
 * Static variable definitions have been removed to prevent conflicts.
 */
@layer base {
  /* All CSS variables are set dynamically via applyMode.ts */
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

@layer components {
  .tm-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--tm-muted-foreground)) transparent;
  }

  .tm-scrollbar::-webkit-scrollbar {
    width: var(--spacing-1-5);
  }

  .tm-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .tm-scrollbar::-webkit-scrollbar-thumb {
    background-color: hsl(var(--tm-muted-foreground));
    border-radius: var(--radius-xs);
  }

  .tm-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--tm-text-primary));
  }

  /* Container layout primitive */
  .tm-container {
    margin-left: auto;
    margin-right: auto;
    padding-left: var(--layout-container-md);
    padding-right: var(--layout-container-md);
    max-width: var(--container-max-width, 100%);
  }

  .tm-container[data-padding="xs"] {
    padding-left: var(--layout-container-xs);
    padding-right: var(--layout-container-xs);
  }

  .tm-container[data-padding="sm"] {
    padding-left: var(--layout-container-sm);
    padding-right: var(--layout-container-sm);
  }

  .tm-container[data-padding="md"] {
    padding-left: var(--layout-container-md);
    padding-right: var(--layout-container-md);
  }

  .tm-container[data-padding="lg"] {
    padding-left: var(--layout-container-lg);
    padding-right: var(--layout-container-lg);
  }

  .tm-container[data-padding="xl"] {
    padding-left: var(--layout-container-xl);
    padding-right: var(--layout-container-xl);
  }

  .tm-container[data-padding="none"] {
    padding-left: 0;
    padding-right: 0;
  }
}

/* Reduced Motion Support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0ms !important;
    scroll-behavior: auto !important;
  }
}
