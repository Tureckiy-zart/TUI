---
alwaysApply: true
title: UI Library Component Rules
version: 1.0
status: Active
owner: Cursor AI
last_updated: TODO:DATE_CONFIRMATION
---

# üé® UI Library Component Rules

This rule file defines standards for developing UI library components, including structure, exports, types, documentation, and styling.

---

## üìã Part 1: Component Structure

### Component File Organization

**ALWAYS** follow this structure for each component:

```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ Button/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx           # Component implementation
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.test.tsx      # Component tests
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.stories.tsx  # Storybook stories
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.types.ts     # TypeScript types/interfaces
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Button.module.css    # Component styles (if CSS modules)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts             # Public exports
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                 # Library barrel exports
```

### Component Naming Conventions

- **Component files**: PascalCase (e.g., `Button.tsx`, `Modal.tsx`)
- **Component folders**: PascalCase matching component name
- **Test files**: `{ComponentName}.test.tsx`
- **Story files**: `{ComponentName}.stories.tsx`
- **Type files**: `{ComponentName}.types.ts`
- **Index files**: `index.ts` (always lowercase)

---

## üì¶ Part 2: Exports and Types

### Public API Exports

**ALWAYS** export components through barrel exports:

```typescript
// src/components/Button/index.ts
export { Button } from "./Button";
export type { ButtonProps } from "./Button.types";

// src/components/index.ts
export { Button } from "./Button";
export { Modal } from "./Modal";
// ... all components
```

### Type Definitions

**ALWAYS** define types in separate `.types.ts` files:

```typescript
// Button.types.ts
export interface ButtonProps {
  children: React.ReactNode;
  variant?: "primary" | "secondary" | "outline";
  size?: "sm" | "md" | "lg";
  disabled?: boolean;
  onClick?: (event: React.MouseEvent<HTMLButtonElement>) => void;
  className?: string;
}
```

**Rules:**

- Export all public types/interfaces
- Use descriptive names (avoid generic `Props`)
- Include JSDoc comments for complex types
- Mark optional props with `?`

---

## üìù Part 3: Component Documentation

### JSDoc Comments

**ALWAYS** include JSDoc comments for components:

````typescript
/**
 * Button component for user interactions
 *
 * @example
 * ```tsx
 * <Button variant="primary" onClick={handleClick}>
 *   Click me
 * </Button>
 * ```
 */
export const Button: React.FC<ButtonProps> = ({ ... }) => {
  // ...
};
````

### Required Documentation

Each component MUST include:

- Component description
- Props documentation (with types)
- Usage examples
- Accessibility notes (if applicable)
- Known limitations (if any)

---

## üé® Part 4: Styling Guidelines

### Styling Approaches

**Choose ONE approach per component:**

1. **CSS Modules** (recommended for scoped styles)

   ```typescript
   import styles from "./Button.module.css";
   ```

2. **Styled Components** (if using CSS-in-JS)

   ```typescript
   const StyledButton = styled.button`...`;
   ```

3. **Tailwind CSS** (if using utility classes)

   ```typescript
   className = "px-4 py-2 bg-blue-500";
   ```

4. **CSS Variables** (for theming)
   ```css
   --button-primary-bg: var(--color-primary);
   ```

### Styling Rules

- **ALWAYS** use CSS variables for theming
- **ALWAYS** support dark mode (if applicable)
- **ALWAYS** ensure responsive design
- **NEVER** use inline styles (except for dynamic values)
- **NEVER** use `!important` unless absolutely necessary

---

## ‚ôø Part 5: Accessibility (a11y)

### Required Accessibility Features

**ALWAYS** ensure components are accessible:

- **Keyboard navigation**: All interactive elements must be keyboard accessible
- **ARIA attributes**: Use appropriate ARIA labels and roles
- **Focus management**: Visible focus indicators
- **Screen reader support**: Semantic HTML and ARIA labels
- **Color contrast**: WCAG AA compliance (4.5:1 for text)

### Accessibility Checklist

- [ ] Keyboard navigation works
- [ ] ARIA attributes present
- [ ] Focus indicators visible
- [ ] Screen reader tested
- [ ] Color contrast compliant
- [ ] No accessibility warnings in tests

---

## üîß Part 6: Component Implementation

### Component Structure Template

```typescript
import React from 'react';
import { ButtonProps } from './Button.types';
import styles from './Button.module.css';

/**
 * Button component description
 */
export const Button: React.FC<ButtonProps> = ({
  children,
  variant = 'primary',
  size = 'md',
  disabled = false,
  onClick,
  className,
  ...rest
}) => {
  const baseClasses = styles.button;
  const variantClass = styles[`button--${variant}`];
  const sizeClass = styles[`button--${size}`];

  const classes = [
    baseClasses,
    variantClass,
    sizeClass,
    disabled && styles['button--disabled'],
    className,
  ]
    .filter(Boolean)
    .join(' ');

  return (
    <button
      className={classes}
      disabled={disabled}
      onClick={onClick}
      aria-disabled={disabled}
      {...rest}
    >
      {children}
    </button>
  );
};

Button.displayName = 'Button';
```

### Implementation Rules

- **ALWAYS** use TypeScript strict mode
- **ALWAYS** define `displayName` for components
- **ALWAYS** forward refs for interactive components
- **ALWAYS** handle edge cases (null, undefined, empty states)
- **NEVER** mutate props directly
- **NEVER** use `any` type

---

## üß™ Part 7: Testing Requirements

### Test Coverage

**ALWAYS** write tests for:

- Component rendering
- Props handling
- User interactions
- Edge cases
- Accessibility

**Minimum coverage:** 80% for components

### Test Structure

```typescript
describe('Button', () => {
  it('renders correctly', () => { ... });
  it('handles click events', () => { ... });
  it('applies variant classes', () => { ... });
  it('is keyboard accessible', () => { ... });
  it('meets accessibility standards', () => { ... });
});
```

---

## üìö Part 8: Storybook Integration

### Story Structure

**ALWAYS** create stories for each component:

```typescript
import type { Meta, StoryObj } from "@storybook/react";
import { Button } from "./Button";

const meta: Meta<typeof Button> = {
  title: "Components/Button",
  component: Button,
  tags: ["autodocs"],
  argTypes: {
    variant: {
      control: "select",
      options: ["primary", "secondary", "outline"],
    },
  },
};

export default meta;
type Story = StoryObj<typeof Button>;

export const Primary: Story = {
  args: {
    variant: "primary",
    children: "Button",
  },
};
```

### Story Requirements

- **ALWAYS** include default story
- **ALWAYS** document all props in argTypes
- **ALWAYS** include multiple variants
- **ALWAYS** add usage examples
- **ALWAYS** test in Storybook before committing

---

## ‚úÖ Component Completion Checklist

Before marking a component as complete:

- [ ] Component implemented with TypeScript
- [ ] Types defined in `.types.ts`
- [ ] Tests written and passing (80%+ coverage)
- [ ] Storybook stories created
- [ ] JSDoc documentation added
- [ ] Accessibility tested and compliant
- [ ] Styling implemented and responsive
- [ ] Exported through barrel exports
- [ ] No console warnings/errors
- [ ] Code reviewed and linted

---

## üö´ What NOT to Do

- ‚ùå **NEVER** export internal implementation details
- ‚ùå **NEVER** use `any` type
- ‚ùå **NEVER** skip accessibility testing
- ‚ùå **NEVER** commit without tests
- ‚ùå **NEVER** use inline styles for static styles
- ‚ùå **NEVER** mutate props
- ‚ùå **NEVER** skip Storybook stories

---

## ‚úÖ What TO Do

- ‚úÖ **ALWAYS** follow component structure
- ‚úÖ **ALWAYS** use TypeScript strict mode
- ‚úÖ **ALWAYS** write tests before implementation
- ‚úÖ **ALWAYS** create Storybook stories
- ‚úÖ **ALWAYS** document components with JSDoc
- ‚úÖ **ALWAYS** ensure accessibility compliance
- ‚úÖ **ALWAYS** export through barrel exports
- ‚úÖ **ALWAYS** use semantic HTML

---

**Status:** ‚úÖ Active Rule  
**Priority:** CRITICAL  
**Date Created:** TODO:DATE_CONFIRMATION
